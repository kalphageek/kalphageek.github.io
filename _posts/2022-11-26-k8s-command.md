---
layout: single
title: "K8S Commands"
categories: k8s
tag: [command, do, event, endpoint, describe, curl, 500, error]
#author_profile : false새
---



- Pod Test

> 1초마다 시간을 찍고, Service에 연결된 Pod의 Hostname을 보여준다. (IP는 Service의 IP 임)

```bash
$ while true; do date && curl 10.97.190.80:8080/hostname; sleep 1; done
```

- Curl로 특정Pod에 임의로 500 error 발생시키기. 해당 Pod에서는 계속 500 error 발생한다.

```bash
$ curl [Pod IP]:8080/status500
```

- 전체 Pod 현황 보기

```bash
$ kubectl get pods -A
```

- Pod의 Event 상황보기

```bash
$ kubectl get events -w | grep [POD Name]
```

- Pod의 Lifecycle State 보기

```bash
$ kubectl describe pod [POD Name] | grep -A5 Conditions
```

- Service의 Endpoint 보기

```bash
$ kubectl describe endpoints [Service Name]
```

* Node에 Lable 달기

```bash
$ kubectl label nodes k8s-node1 kr=az-1
$ kubectl label nodes k8s-node2 us=az-1
```

